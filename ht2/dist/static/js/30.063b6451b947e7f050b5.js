webpackJsonp([30],{"1dVQ":function(t,e){},t9mF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xxa5"),r=a.n(s),n=a("exGp"),i=a.n(n),o=(a("oAV5"),a("nHSH")),l=(a("mtWM"),{data:function(){return{is_show:!1,submitform:{money:"",jiangli:"",suocang:"",huoyue:"",resource:"",region:"",is_hehuo:""},tabletwoData:[],shujuData:"",show:!1,id:"",label:"",dengji:[],tableoneData:[],juanzhou_id:"",user_id:""}},created:function(){var t=this;return i()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.taskList(1);case 1:case"end":return e.stop()}},e,t)}))()},methods:{getDate:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},taskList:function(t){var e=this;return i()(r.a.mark(function a(){var s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.taskList({page:t});case 2:1==(s=a.sent).data.status?(e.shujuData=s.data.data,e.tabletwoData=s.data.data.list):(e.tabletwoData=[],e.$message.error(s.data.info));case 4:case"end":return a.stop()}},a,e)}))()},lookClick:function(t){var e=this;return i()(r.a.mark(function a(){var s,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(t),e.juanzhou_id=t.id,e.is_show=!0,a.next=5,o.a.memberTaskList({id:t.id});case 5:1==(s=a.sent).data.status&&(n=s.data.data.map(function(t,a){return t.add_time=e.getDate(1e3*t.start_time),t}),e.tableoneData=n);case 7:case"end":return a.stop()}},a,e)}))()},fanhui:function(){this.is_show=!1},modifyClick:function(t){var e=this;return i()(r.a.mark(function a(){var s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.show=!0,e.submitform.money=t.duihuan,e.submitform.jiangli=t.jiangli,e.submitform.suocang=t.suochang,e.submitform.huoyue=t.huoyue,e.submitform.resource=Number(t.is_zengsong),e.submitform.is_hehuo=Number(t.is_hehuoren_zengsong),e.submitform.region=t.level_id,console.log(e.submitform.resource),e.id=t.id,a.next=12,o.a.allTaskLevel();case 12:1==(s=a.sent).data.status&&(e.dengji=s.data.data);case 14:case"end":return a.stop()}},a,e)}))()},onSubmitClick:function(t){var e=this;return i()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.updateTask({id:e.id,level_id:e.submitform.region,duihuan:e.submitform.money,jiangli:e.submitform.jiangli,suochang:e.submitform.suocang,huoyue:e.submitform.huoyue,is_zengsong:e.submitform.resource,is_hehuoren_zengsong:e.submitform.is_hehuo});case 2:1==(a=t.sent).data.status?(e.$message.success("修改成功"),e.show=!1,e.submitform.money="",e.submitform.jiangli="",e.submitform.suocang="",e.submitform.huoyue="",e.submitform.resource="",e.submitform.renwu="",e.submitform.is_hehuo="",e.taskList(1)):e.$message.error(a.data.info);case 4:case"end":return t.stop()}},t,e)}))()},deleteClick:function(t){var e=this;return i()(r.a.mark(function a(){var s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.user_id=t.user_id,console.log(e.id),a.next=4,o.a.delMembertasklist({user_id:e.user_id,juanzhou_id:e.juanzhou_id});case 4:1==(s=a.sent).data.status?(e.$message.success(s.data.info),e.is_show=!1):e.$message.error(s.data.info);case 6:case"end":return a.stop()}},a,e)}))()},clone:function(){this.show=!1,this.submitform.money="",this.submitform.jiangli="",this.submitform.suocang="",this.submitform.huoyue="",this.submitform.resource="",this.submitform.renwu=""},handleCurrentChange:function(t){this.taskList(t)}},mounted:function(){}}),u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"taskscroll"},[a("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.tabletwoData,"header-cell-style":{background:"#F9F9F9",color:"#606266"},border:""}},[a("el-table-column",{attrs:{label:"卷轴任务ID",prop:"id",resizable:!1,align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"是否为合伙人赠送卷轴",prop:"is_hehuoren_zengsong",resizable:!1,align:"center",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.is_hehuoren_zengsong?a("div",[t._v("否")]):t._e(),t._v(" "),1==e.row.is_hehuoren_zengsong?a("div",[t._v("是")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"兑换卷轴所需金币",prop:"duihuan",resizable:!1,align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"总共奖励金币",prop:"jiangli",resizable:!1,align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"锁仓时间(天)",prop:"suochang",resizable:!1,align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"活跃度",prop:"huoyue",resizable:!1,align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"等级名称",prop:"level_name",resizable:!1,align:"center"}}),t._v(" "),a("el-table-column",{staticClass:"elcolumn",attrs:{label:"操作",prop:"content",align:"center",fixed:"right",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(a){return t.modifyClick(e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(a){return t.lookClick(e.row)}}},[t._v("查看会员卷轴信息")])]}}])})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"mark"},[a("div",{staticClass:"mark-content"},[a("div",{staticClass:"hytj"},[t._v("修改卷轴信息")]),t._v(" "),a("el-form",{staticClass:"submitform",attrs:{model:t.submitform}},[a("table",{staticStyle:{width:"90%",height:"80px",border:"1px dashed #000",background:"#F9F9F9"},attrs:{rules:"all"}},[a("tr",{staticStyle:{background:"#EEEEEE"}},[a("td",{staticStyle:{"text-align":"center"}},[t._v("名称")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("内容")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("兑换卷轴所需要的金币:")]),t._v(" "),a("td",{staticClass:"td2"},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:t.submitform.money,callback:function(e){t.$set(t.submitform,"money",e)},expression:"submitform.money"}})],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("是否为合伙人赠送卷轴:")]),t._v(" "),a("td",{staticClass:"td2"},[a("el-radio",{attrs:{label:0},model:{value:t.submitform.is_hehuo,callback:function(e){t.$set(t.submitform,"is_hehuo",e)},expression:"submitform.is_hehuo"}},[t._v("否")]),t._v(" "),a("el-radio",{attrs:{label:1},model:{value:t.submitform.is_hehuo,callback:function(e){t.$set(t.submitform,"is_hehuo",e)},expression:"submitform.is_hehuo"}},[t._v("是")])],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("总共奖励金币:")]),t._v(" "),a("td",{staticClass:"td2"},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:t.submitform.jiangli,callback:function(e){t.$set(t.submitform,"jiangli",e)},expression:"submitform.jiangli"}})],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("锁仓时间(天):")]),t._v(" "),a("td",{staticClass:"td2"},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:t.submitform.suocang,callback:function(e){t.$set(t.submitform,"suocang",e)},expression:"submitform.suocang"}})],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("活跃度:")]),t._v(" "),a("td",{staticClass:"td2"},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:t.submitform.huoyue,callback:function(e){t.$set(t.submitform,"huoyue",e)},expression:"submitform.huoyue"}})],1)]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onSubmitClick}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.clone}},[t._v("返回")])],1)])])])],1)]),t._v(" "),t.is_show?a("div",{staticClass:"mark"},[a("div",{staticClass:"mark-content"},[a("div",{staticClass:"hytj"},[t._v("会员卷轴信息")]),t._v(" "),a("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.tableoneData,"header-cell-style":{background:"#F9F9F9",color:"#606266"},border:""}},[a("el-table-column",{attrs:{label:"卷轴开始时间",prop:"add_time",resizable:!1,align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"进行天数",prop:"suocang_num",resizable:!1,align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"status",resizable:!1,align:"center",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?a("div",{attrs:{type:"primary"}},[t._v("未进行")]):t._e(),t._v(" "),1==e.row.status?a("div",{attrs:{type:"primary"}},[t._v("进行中")]):t._e(),t._v(" "),2==e.row.status?a("div",{attrs:{type:"primary"}},[t._v("已完成")]):t._e()]}}],null,!1,13273813)}),t._v(" "),a("el-table-column",{attrs:{label:"已返还金币",prop:"yifanhuan",resizable:!1,align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"会员名称",prop:"user_name",resizable:!1,align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"会员ID",prop:"code",resizable:!1,align:"center"}}),t._v(" "),a("el-table-column",{staticClass:"elcolumn",attrs:{label:"操作",prop:"content",align:"center",fixed:"right",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(a){return t.deleteClick(e.row)}}},[t._v("删除")])]}}],null,!1,2580632379)})],1),t._v(" "),a("el-button",{staticClass:"fanhui",attrs:{type:"primary",size:"small"},on:{click:t.fanhui}},[t._v("返回")])],1)]):t._e(),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{layout:"total, prev, pager, next, jumper",total:t.shujuData.num,"page-size":15},on:{"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var c=a("VU/8")(l,u,!1,function(t){a("1dVQ")},"data-v-4e746cbf",null);e.default=c.exports}});
//# sourceMappingURL=30.063b6451b947e7f050b5.js.map