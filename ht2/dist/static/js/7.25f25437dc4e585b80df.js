webpackJsonp([7],{"/XzS":function(t,e){},wJS7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),o=n("exGp"),s=n.n(o),i=n("sYY+"),c=n.n(i),u=n("oAV5"),l=n("nHSH"),f=(n("mtWM"),n("mw3O"),{name:"addArticle",data:function(){return{article:{title:"文章测试-标题",sort:"",top:!0,contentHtml:""},initData:"",restaurants:[],img_url:this.img_url,url:"",editor:""}},created:function(){var t=this;return s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.xianshi();case 1:case"end":return e.stop()}},e,t)}))()},methods:{xianshi:function(){var t=this;return s()(r.a.mark(function e(){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.aboutMe();case 2:1==(n=e.sent).data.status?(t.article.contentHtml=n.data.data,t.$message.success(n.data.info)):t.$message.error(n.data.info),t.restaurants=t.loadAll();case 5:case"end":return e.stop()}},e,t)}))()},querySearch:function(t,e){var n=this.restaurants;e(t?n.filter(this.createFilter(t)):n)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},loadAll:function(){return[{value:"vue"},{value:"node.js"}]},handleSelect:function(t){console.log(t)},getContent:function(){console.log(this.article.contentHtml)},submitArticle:function(){var t=this;return s()(r.a.mark(function e(){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.updateAbout({content:t.editor.txt.html()});case 2:n=e.sent,console.log(t.article.contentHtml),1==n.data.status?t.$message.success("提交成功"):t.$message.error(n.data.info);case 5:case"end":return e.stop()}},e,t)}))()}},mounted:function(){var t=this;return s()(r.a.mark(function e(){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,a=new c.a(t.$refs.editor),t.editor=a,a.customConfig.uploadImgParamsWithUrl=!0,a.customConfig.uploadImgServer="/admin/bank/uploadPic",a.customConfig.uploadImgMaxSize=3145728,a.customConfig.uploadImgMaxLength=5,a.customConfig.uploadFileName="pic",a.customConfig.uploadImgParams={token:u.a.getCookie("token")},a.customConfig.uploadImgHooks={before:function(t,e,n){},success:function(t,e,a){console.log(555,a),console.log(999,a.data),console.log(888,n.article.contentHtml)},fail:function(t,e,n){console.log(123,t),console.log(456,e),console.log(789,n)},error:function(t,e){console.log(666,result)},customInsert:function(t,e,a){t(r=n.img_url+e.data),a.txt.img(r),a.txt.html(o);var r=a.txt.img(),o=a.txt.html()}},a.create();case 10:case"end":return e.stop()}},e,t)}))()}}),d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"addArticle"},[e("el-form",{ref:"article",attrs:{inline:!0,model:this.article,"label-width":"80px"}},[e("el-form-item",[e("el-button",{staticClass:"subBtn",attrs:{type:"primary"},on:{click:this.submitArticle}},[this._v("发布")])],1)],1),this._v(" "),e("div",{ref:"editor",staticStyle:{"text-align":"left"},attrs:{id:"editor"}},[e("div",{domProps:{innerHTML:this._s(this.article.contentHtml)}})])],1)},staticRenderFns:[]};var m=n("VU/8")(f,d,!1,function(t){n("zypP"),n("/XzS")},"data-v-4ee759f8",null);e.default=m.exports},zypP:function(t,e){}});
//# sourceMappingURL=7.25f25437dc4e585b80df.js.map