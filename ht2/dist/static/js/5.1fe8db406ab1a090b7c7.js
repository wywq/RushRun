webpackJsonp([5],{Bbnx:function(t,e){},hppP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("BO1k"),r=a.n(s),i=a("Xxa5"),n=a.n(i),o=a("exGp"),l=a.n(o),c=a("Pexp"),m=a("oAV5"),d=a("nHSH"),u=(c.default,{data:function(){return{is_show:0,ps_show:0,submitform:{name:"",password:"",pwd_show:"",admin_id:"",value:""},partnerform:{name:"",password:"",pwd_show:"",admin_id:""},tabletwoData:[],shownavList:[],tableData:[],qxglxx:[],qxls:[],checkAll:!1,checkedCities:[],cities:[],isIndeterminate:!0,is_guanliyuan:"",qb:"",zhfl:[{value:"1",name:"管理员",id:1},{value:"2",name:"客服",id:2},{value:"3",name:"财务",id:3}]}},components:{Title:c.default},created:function(){this.memberList()},methods:{tableRowClassName:function(t){return 0==t.row.is_guanliyuan?"warning-row":""},changeFun:function(t){this.checkBoxData=t},addPartnerClick:function(){this.is_show=3},memberList:function(){var t=this;return l()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.index({token:m.a.getCookie("token")});case 2:a=e.sent,console.log(a),console.log(123,a.data.data.list.data),1==a.data.status?(t.tabletwoData=a.data.data.list.data,t.$message.success(a.data.info)):t.$message.error(a.data.info);case 6:case"end":return e.stop()}},e,t)}))()},addMerberClick:function(){this.is_show=1,this.partnerform.name="",this.partnerform.password=""},onPartnerClick:function(){var t=this;return l()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.partnerform.name){e.next=3;break}return t.$message.error("请填写合伙人名称"),e.abrupt("return",!1);case 3:if(""!=t.partnerform.password){e.next=6;break}return t.$message.error("请输入合伙人密码"),e.abrupt("return",!1);case 6:return console.log(t.partnerform.name),e.next=9,d.a.addPartner({token:m.a.getCookie("token"),user_name:t.partnerform.name,password:t.partnerform.password,admin_id:t.partnerform.admin_id});case 9:1==(a=e.sent).data.status?(t.is_show=0,t.partnerform.admin_id="",t.ps_show=0,t.partnerform.name="",t.partnerform.password="",t.$message.success("添加成功"),t.memberList()):t.$message.error(a.data.info);case 11:case"end":return e.stop()}},e,t)}))()},onSubmitClick:function(){var t=this;return l()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.addAdmin({token:m.a.getCookie("token"),username:t.submitform.name,password:t.submitform.password,admin_id:t.submitform.admin_id,bumen:t.submitform.value});case 2:1==(a=e.sent).data.status?(t.memberList(),t.is_show=0,t.submitform.admin_id="",t.ps_show=0,t.submitform.name="",t.submitform.password="",t.submitform.value="",t.$message.success("添加成功")):t.$message.error(a.data.info);case 4:case"end":return e.stop()}},e,t)}))()},modifyClick:function(t){console.log(t),this.is_show=1,this.ps_show=1,this.submitform.name=t.user_name,this.submitform.pwd_show=t.pwd,this.submitform.admin_id=t.admin_id,this.submitform.value=t.bumen},delClick:function(t){var e=this;this.$confirm("是否继续删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(l()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.delMember({token:m.a.getCookie("token"),admin_id:t.admin_id});case 2:1==a.sent.data.status&&e.$message.success("删除成功"),e.memberList();case 5:case"end":return a.stop()}},a,e)}))).catch(function(){e.$message({type:"info",message:"已取消删除"})})},permissionsClick:function(t){var e=this;return l()(n.a.mark(function a(){var s,i,o,l,c,u,p,f,_;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.is_show=2,a.next=3,d.a.showNav({token:m.a.getCookie("token"),admin_id:t.admin_id});case 3:if(1!=(s=a.sent).data.status){a.next=30;break}for(i=[],o=[],l=!0,c=!1,u=void 0,a.prev=10,p=r()(s.data.data);!(l=(f=p.next()).done);l=!0)1==(_=f.value).status&&i.push(_.nav_id),o.push(_.nav_id);a.next=18;break;case 14:a.prev=14,a.t0=a.catch(10),c=!0,u=a.t0;case 18:a.prev=18,a.prev=19,!l&&p.return&&p.return();case 21:if(a.prev=21,!c){a.next=24;break}throw u;case 24:return a.finish(21);case 25:return a.finish(18);case 26:e.checkedCities=i,e.qxglxx=o,e.cities=s.data.data,e.admin_id=t.admin_id;case 30:case"end":return a.stop()}},a,e,[[10,14,18,26],[19,,21,25]])}))()},onDetermineClick:function(){var t=this;return l()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(123456,t.checkedCities.toString()),e.next=3,d.a.saveNav({token:m.a.getCookie("token"),admin_id:t.admin_id,nav:t.checkedCities.toString()});case 3:1==(a=e.sent).data.status?(t.$message.success(a.data.info),t.is_show=0):t.$message.error(a.data.info);case 5:case"end":return e.stop()}},e,t)}))()},clone:function(){this.is_show=0,this.ps_show=0,this.submitform.name="",this.submitform.password="",this.submitform.admin_id=""},selectAllClick:function(){this.checkedCities=this.qxglxx,this.isIndeterminate=!1},cancelAllElectionsClick:function(){this.checkedCities=[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){this.qxls=t;var e=t.length;this.checkAll=e===this.cities.length,this.isIndeterminate=e>0&&e<this.cities.length}}}),p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"administrator"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addMerberClick}},[t._v("添加管理员")]),t._v(" "),a("el-table",{staticStyle:{"margin-top":"10px"},attrs:{"row-class-name":t.tableRowClassName,data:t.tabletwoData,"header-cell-style":{background:"#F9F9F9",color:"#606266"},border:""}},[a("el-table-column",{attrs:{label:"ID",prop:"admin_id",resizable:!1,align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"管理员名称",prop:"user_name",resizable:!1,align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"status",resizable:!1,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?a("div",{attrs:{type:"primary"}},[t._v("可用")]):t._e(),t._v(" "),1==e.row.status?a("div",{attrs:{type:"primary"}},[t._v("不可用")]):t._e()]}}])}),t._v(" "),a("el-table-column",{staticClass:"elcolumn",attrs:{label:"操作",align:"center",fixed:"right",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(a){return t.modifyClick(e.row)}}},[t._v("修改信息")]),t._v(" "),0==e.row.admin?a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(a){return t.delClick(e.row)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),1==t.is_show?a("div",{staticClass:"mark"},[a("div",{staticClass:"mark-content"},[a("div",{staticClass:"hytj"},[t._v("添加管理员")]),t._v(" "),a("el-form",{staticClass:"submitform",attrs:{model:t.submitform}},[a("table",{staticStyle:{width:"90%",height:"80px",border:"1px dashed #000",background:"#F9F9F9"},attrs:{rules:"all"}},[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("管理员名称:")]),t._v(" "),a("td",{staticClass:"td2"},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:t.submitform.name,callback:function(e){t.$set(t.submitform,"name",e)},expression:"submitform.name"}})],1)]),t._v(" "),0==t.ps_show?a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("管理员密码:")]),t._v(" "),a("td",{staticClass:"td2"},[a("el-input",{attrs:{type:"password",size:"small",clearable:"","show-password":!1},model:{value:t.submitform.password,callback:function(e){t.$set(t.submitform,"password",e)},expression:"submitform.password"}})],1)]):t._e(),t._v(" "),0==t.ps_show?a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("所属部门:")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:t.submitform.value,callback:function(e){t.$set(t.submitform,"value",e)},expression:"submitform.value"}},[a("el-option",{key:"",attrs:{label:"全部",value:t.qb}}),t._v(" "),t._l(t.zhfl,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.id}})})],2)],1)]):t._e(),t._v(" "),1==t.ps_show?a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("所属部门:")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:t.submitform.value,callback:function(e){t.$set(t.submitform,"value",e)},expression:"submitform.value"}},[a("el-option",{key:"",attrs:{label:"全部",value:t.qb}}),t._v(" "),t._l(t.zhfl,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.id}})})],2)],1)]):t._e(),t._v(" "),1==t.ps_show?a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("管理员密码:")]),t._v(" "),a("td",{staticClass:"td2"},[a("el-input",{attrs:{size:"small",clearable:"",disabled:!0},model:{value:t.submitform.pwd_show,callback:function(e){t.$set(t.submitform,"pwd_show",e)},expression:"submitform.pwd_show"}})],1)]):t._e(),t._v(" "),1==t.ps_show?a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("管理员密码修改:")]),t._v(" "),a("td",{staticClass:"td2"},[a("el-input",{attrs:{type:"password",size:"small",clearable:""},model:{value:t.submitform.password,callback:function(e){t.$set(t.submitform,"password",e)},expression:"submitform.password"}})],1)]):t._e(),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onSubmitClick}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.clone}},[t._v("返回")])],1)])])])],1)]):t._e(),t._v(" "),3==t.is_show?a("div",{staticClass:"mark"},[a("div",{staticClass:"mark-content"},[a("div",{staticClass:"hytj"},[t._v("添加合伙人")]),t._v(" "),a("el-form",{staticClass:"submitform",attrs:{model:t.submitform}},[a("table",{staticStyle:{width:"90%",height:"80px",border:"1px dashed #000",background:"#F9F9F9"},attrs:{rules:"all"}},[a("tr",[a("td",{staticClass:"td1"},[t._v("合伙人名称:")]),t._v(" "),a("td",{staticClass:"td2"},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:t.partnerform.name,callback:function(e){t.$set(t.partnerform,"name",e)},expression:"partnerform.name"}})],1)]),t._v(" "),0==t.ps_show?a("tr",[a("td",{staticClass:"td1"},[t._v("合伙人密码:")]),t._v(" "),a("td",{staticClass:"td2"},[a("el-input",{attrs:{type:"password",size:"small",clearable:"","show-password":!1},model:{value:t.partnerform.password,callback:function(e){t.$set(t.partnerform,"password",e)},expression:"partnerform.password"}})],1)]):t._e(),t._v(" "),1==t.ps_show?a("tr",[a("td",{staticClass:"td1"},[t._v("合伙人密码:")]),t._v(" "),a("td",{staticClass:"td2"},[a("el-input",{attrs:{size:"small",clearable:"",disabled:!0},model:{value:t.partnerform.pwd_show,callback:function(e){t.$set(t.partnerform,"pwd_show",e)},expression:"partnerform.pwd_show"}})],1)]):t._e(),t._v(" "),1==t.ps_show?a("tr",[a("td",{staticClass:"td1"},[t._v("合伙人密码修改:")]),t._v(" "),a("td",{staticClass:"td2"},[a("el-input",{attrs:{type:"password",size:"small",clearable:""},model:{value:t.partnerform.password,callback:function(e){t.$set(t.partnerform,"password",e)},expression:"partnerform.password"}})],1)]):t._e(),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",{staticClass:"td2"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onPartnerClick}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.clone}},[t._v("返回")])],1)])])])],1)]):t._e(),t._v(" "),2==t.is_show?a("div",{staticClass:"mark"},[a("div",{staticClass:"mark-content"},[a("div",{staticClass:"hytj"},[t._v("设置权限\n\t\t\t\t"),a("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.clone()}}},[t._v("返回")])],1),t._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),t._v(" "),a("el-checkbox-group",{staticClass:"qx",on:{change:t.handleCheckedCitiesChange},model:{value:t.checkedCities,callback:function(e){t.checkedCities=e},expression:"checkedCities"}},t._l(t.cities,function(e,s){return a("el-checkbox",{key:s,staticClass:"qxnr",attrs:{label:e.nav_id}},[t._v(t._s(e.nav_name))])}),1),t._v(" "),a("div",{staticStyle:{margin:"10px",display:"flex","justify-content":"center","align-items":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.selectAllClick}},[t._v("全选")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.cancelAllElectionsClick}},[t._v("取消全选")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.onDetermineClick}},[t._v("确定")])],1)],1)]):t._e()],1)},staticRenderFns:[]};var f=a("VU/8")(u,p,!1,function(t){a("yvHh"),a("Bbnx")},"data-v-aa53ee56",null);e.default=f.exports},yvHh:function(t,e){}});
//# sourceMappingURL=5.1fe8db406ab1a090b7c7.js.map